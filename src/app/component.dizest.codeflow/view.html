<div class="workspace-tab codeflow" [class.item-selected]="workflow.flow.isSelected()"><div class="workspace-tab-header"><div class="workspace-tab-header-title"><i class="fa-solid fa-code mr-2"></i><span>Codeflow</span></div><div class="ml-auto"></div><div class="text-white close-btn mr-3"><i class="fa-solid" [class.fa-book-open]="!isDescriptionHidden" [class.fa-book]="isDescriptionHidden" (click)="toggleDescription()"></i></div><div class="text-white close-btn" (click)="workflow.menubar.toggle('codeflow')"><i class="fa-solid fa-xmark"></i></div></div><div class="workspace-tab-body" [class.isdragging]="status.drag"><div class="codeflow-body" *ngIf="initialized"><div [sortablejs]="codeflow.data" [sortablejsOptions]="{ animation: 150, handle: '.sortable-handle' }"><div *ngFor="let item of codeflow.data; let idx = index" (dragstart)="drag(true, item)" (dragend)="drag(false, item)"><div class="card" [class.codeflow-selected]="item.selected()" (click)="item.select()" [attr.id]="'codeflow-' + item.id"><div class="codeflow-header"><span class="badge badge-sm mr-1" [class.bg-white]="item.flow().inactive" [class.text-blue]="item.flow().inactive" [class.bg-blue]="!item.flow().inactive" [class.text-white]="!item.flow().inactive" (click)="item.toggle()"><span>{{item.flow().inactive ? 'manual' : 'auto'}}</span></span><input [(ngModel)]="item.flow().title" [attr.placeholder]="item.app().title"/><div class="ml-auto"></div><div class="btn btn-sm btn-white sortable-handle"><i class="fa-solid fa-up-down-left-right"></i></div><div class="btn btn-sm btn-white" (click)="item.up()"><i class="fa-solid fa-arrow-up"></i></div><div class="btn btn-sm btn-white" (click)="item.down()"><i class="fa-solid fa-arrow-down"></i></div><div class="btn btn-sm btn-blue" (click)="item.delete()"><i class="fa-solid fa-xmark"></i></div></div><div class="codeflow-desc" *ngIf="!isDescriptionHidden"><table class="table card-table table-sm" *ngIf="item.selected()"><thead><tr><th class="nowrap">Note</th><th class="w-1 text-right"><button class="btn btn-blue btn-sm" (click)="item.desc.toggle()"><i class="fa-solid" [class.fa-edit]="!item.desc.isEditable()" [class.fa-book]="item.desc.isEditable()"></i></button></th></tr></thead></table><div class="codeflow-descarea p-3 pb-2" *ngIf="!item.desc.isEditable()" [innerHtml]="showdown(item.flow().description)"></div><div class="codeflow-descarea" *ngIf="item.desc.isEditable()"><div class="item-body"><nu-monaco-editor [(ngModel)]="item.flow().description" [options]="monacomd" [height]="'auto'" (event)="init($event)"></nu-monaco-editor></div></div></div><div class="codeflow-item"><table class="table card-table table-sm"><thead><tr><th class="w-1 nowrap"><span class="mr-2">[{{item.flow().index}}]</span><span>Code</span></th></tr></thead></table><div class="codeflow-codearea"><div class="item-body"><nu-monaco-editor [(ngModel)]="item.app().code" [options]="monacopy" [height]="'auto'" (event)="init($event)"></nu-monaco-editor></div></div></div><div class="codeflow-logs" *ngIf="item.selected()"><div class="log-container" [innerHtml]="item.flow().log"></div></div></div><div class="margin" *ngIf="idx != codeflow.data.length - 1"><div class="btn btn-secondary btn-block btn-sm" (click)="create(idx)"><i class="fa-solid fa-plus"></i></div></div></div></div><div class="btn btn-blue btn-block add-btn" (click)="create()"><i class="fa-solid fa-plus"></i></div><div class="margin-bottom"></div></div></div></div>