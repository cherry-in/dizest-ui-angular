<div class="workspace-tab codeflow"><div class="workspace-tab-header"><div class="workspace-tab-header-title"><i class="fa-solid fa-code mr-2"></i><span>Codeflow</span></div><div class="ml-auto"></div><div class="text-white close-btn mr-3"><i class="fa-solid" [class.fa-book-open]="!isDescriptionHidden" [class.fa-book]="isDescriptionHidden" (click)="toggleDescription()"></i></div><div class="text-white close-btn" (click)="workflow.menubar.toggle('codeflow')"><i class="fa-solid fa-xmark"></i></div></div><div class="codeflow-body"><ng-container *ngFor="let item of codeflow.data"><div class="card" [class.codeflow-selected]="item.selected()" (click)="item.select()" [attr.id]="'codeflow-' + item.id"><div class="codeflow-header"><span class="badge badge-sm mr-1" [class.bg-white]="item.flow().inactive" [class.text-blue]="item.flow().inactive" [class.bg-blue]="!item.flow().inactive" [class.text-white]="!item.flow().inactive" (click)="item.toggle()"><span>{{item.flow().inactive ? 'manual' : 'auto'}}</span></span><input [(ngModel)]="item.flow().title" [attr.placeholder]="item.app().title"/><div class="ml-auto"></div><div class="btn btn-sm btn-white sortable-handle"><i class="fa-solid fa-up-down-left-right"></i></div><div class="btn btn-sm btn-white"><i class="fa-solid fa-arrow-up"></i></div><div class="btn btn-sm btn-white"><i class="fa-solid fa-arrow-down"></i></div><div class="btn btn-sm btn-blue" (click)="item.delete()"><i class="fa-solid fa-xmark"></i></div></div><div class="codeflow-desc" *ngIf="!isDescriptionHidden"><table class="table card-table table-sm" *ngIf="item.selected()"><thead><tr><th class="nowrap">Note</th><th class="w-1 text-right"><button class="btn btn-blue btn-sm" (click)="item.desc.toggle()"><i class="fa-solid" [class.fa-edit]="!item.desc.isEditable()" [class.fa-book]="item.desc.isEditable()"></i></button></th></tr></thead></table><div class="codeflow-descarea p-3 pb-2" *ngIf="!item.desc.isEditable()" [innerHtml]="showdown(item.flow().description)"></div><div class="codeflow-descarea" *ngIf="item.desc.isEditable()"><div class="item-body"><nu-monaco-editor [(ngModel)]="item.flow().description" [options]="monacomd" [height]="'auto'" (event)="init($event)"></nu-monaco-editor></div></div></div><div class="codeflow-item"><table class="table card-table table-sm"><thead><tr><th class="w-1 nowrap"><span class="mr-2">[{{item.flow().index}}]</span><span>Code</span></th></tr></thead></table><div class="codeflow-codearea"><div class="item-body"><nu-monaco-editor [(ngModel)]="item.app().code" [options]="monacopy" [height]="'auto'" (event)="init($event)"></nu-monaco-editor></div></div></div><div class="codeflow-options"><table class="table card-table table-sm"><thead><tr><th class="text-left" colspan="4">Input</th><th class="text-right"><button class="btn btn-blue btn-sm" (click)="item.app().inputs.push({})"><i class="fa-solid fa-plus"></i></button></th></tr></thead><tbody *ngIf="item.app().inputs.length == 0"><tr><td class="pl-2" colspan="5"><span class="text-muted">No input</span></td></tr></tbody><tbody [sortablejs]="item.app().inputs" [sortablejsOptions]="{ animation: 150, handle: '.draggable' }"><tr *ngFor="let obj of item.app().inputs"><td class="w-1" style="width: 120px !important;"><select class="form-select" [(ngModel)]="obj.type"><option value="variable">Variable</option><option value="output">Output</option></select></td><td class="w-1" style="width: 120px !important;"><select class="form-select" [(ngModel)]="obj.inputtype" *ngIf="obj.type == 'variable'"><option value="text">Text</option><option value="textarea">Textarea</option><option value="password">Password</option><option value="number">Number</option><option value="file">File</option><option value="folder">Folder</option><option value="date">Date</option><option value="list">List</option></select></td><td class="w-1"><input class="form-control" style="width: 160px;" placeholder="Input Name" [(ngModel)]="obj.name"/></td><td><textarea class="form-control" [attr.placeholder]="obj.inputtype == 'list' ? 'samsung: 005930,
kakao: 035720' : 'Description'" [(ngModel)]="obj.description"></textarea></td><td class="w-1 nowrap"><button class="btn btn-white btn-sm" style="margin-top: 6px; margin-right: 4px;" (click)="item.app().inputs.remove(obj)"><i class="fa-solid fa-xmark"></i></button><div class="draggable btn btn-white btn-sm" style="margin-top: 6px; margin-right: 4px;"><i class="fa-solid fa-up-down-left-right"></i></div></td></tr></tbody></table></div><div class="codeflow-options"><table class="table card-table table-sm"><thead><tr><th class="w-1 nowrap" colspan="2">Output </th><th class="w-1 nowrap text-right"><button class="btn btn-blue btn-sm" (click)="item.app().outputs.push({})"><i class="fa-solid fa-plus"></i></button></th></tr></thead><tbody *ngIf="item.app().outputs.length == 0"><tr><td class="pl-2" colspan="5"><span class="text-muted">No Output</span></td></tr></tbody><tbody [sortablejs]="item.app().outputs" [sortablejsOptions]="{ animation: 150, handle: '.draggable' }"><tr *ngFor="let obj of item.app().outputs"><td class="w-1"><input class="form-control" style="width: 160px;" placeholder="Output Name" [(ngModel)]="obj.name"/></td><td><textarea class="form-control" placeholder="Description" [(ngModel)]="obj.description"></textarea></td><td class="w-1 nowrap"><button class="btn btn-white btn-sm" style="margin-top: 6px; margin-right: 4px;" (click)="item.app().outputs.remove(obj)"><i class="fa-solid fa-xmark"></i></button><div class="draggable btn btn-white btn-sm" style="margin-top: 6px; margin-right: 4px;"><i class="fa-solid fa-up-down-left-right"></i></div></td></tr></tbody></table></div></div></ng-container><div class="btn btn-blue btn-block" (click)="create()"><i class="fa-solid fa-plus"></i></div><div class="margin-bottom"></div></div></div>