<div class="dizest-app-node" [ngClass]="actionState()"><div class="card-header drawflow-handler" [ngClass]="isActive() ? '' : 'inactive'"><div class="avatar-area avatar-area-sm mr-2" (click)="flow.toggle()"><div class="avatar-container"><span class="avatar" [ngStyle]="{'background-image': app.logo() }"></span><span class="avatar-icon"><i class="fa-solid fa-toggle-off" *ngIf="!isActive()"></i><i class="fa-solid fa-toggle-on" *ngIf="isActive()"></i></span></div></div><h2 class="card-title" style="line-height: 1;"> <span>{{flow.title()}}</span><br/><small class="version">1.0.0</small></h2><div class="ml-auto"></div><button class="btn btn-sm btn-white d-desktop" (click)="delete()"><i class="fa-solid fa-xmark"></i></button></div><div class="card-body actions d-flex p-0"><span class="finish-indicator status-indicator" *ngIf="['idle'].includes(status()) &amp;&amp; index() &gt; 0">{{index() % 1000000}}</span><span class="pending-indicator status-indicator status-yellow status-indicator-animated" *ngIf="['pending'].includes(status())"><span class="status-indicator-circle"><span class="status-indicator-circle"></span><span class="status-indicator-circle"></span><span class="status-indicator-circle"></span></span></span><div class="action-btn d-desktop" (click)="code()"><i class="fa-solid fa-code"></i></div><div class="action-btn d-desktop" (click)="uimode()"><i class="fa-solid fa-display"></i></div><div class="action-btn action-btn-play" (click)="run()" *ngIf="['idle', 'error'].includes(status())"><i class="fa-solid fa-play"></i></div><div class="action-btn action-btn-stop" (click)="stop()" *ngIf="!['idle', 'error'].includes(status())"><i class="fa-solid fa-stop"></i></div></div><div class="progress progress-sm" *ngIf="['running'].includes(status())"><div class="progress-bar bg-blue progress-bar-indeterminate"></div></div><div class="card-body value-container p-0"><div class="value-header"><span>Variables</span><div class="btn btn-sm btn-secondary ml-1" *ngIf="count('variable') &gt; 0" (click)="addVariable()"><i class="fa-solid fa-plus"></i></div></div><div [sortablejs]="inputs()" [sortablejsOptions]="{ animation: 150, handle: '.value-title', onUpdate: sorted, scope: scope }"><div *ngFor="let item of inputs()"><div class="value-wrapper" [ngClass]="item.type == 'variable' ? 'show' : 'hidden'" [class.hover]="item.conf"><div class="value-title"><input [(ngModel)]="item.name" (change)="sorted()"/></div><div class="value-action"><div class="btn btn-sm btn-secondary" (click)="variableConfigure(item)"><i class="fa-solid fa-cog" *ngIf="!item.conf"></i><i class="fa-solid fa-floppy-disk" *ngIf="item.conf"></i></div></div><div class="value-data" *ngIf="!['list', 'textarea', 'file', 'folder'].includes(item.inputtype)"><input class="form-control form-control-sm text-center" [type]="item.inputtype" [placeholder]="item.description" [(ngModel)]="data()[item.name]"/></div><div class="value-data" *ngIf="['textarea'].includes(item.inputtype)"><textarea class="form-control form-control-sm" [placeholder]="item.description" rows="5" [(ngModel)]="data()[item.name]"></textarea></div><div class="value-data" *ngIf="['file', 'folder'].includes(item.inputtype)" style="display: flex;"><input class="form-control form-control-sm text-left" type="text" [placeholder]="item.description" [(ngModel)]="data()[item.name]"/><span class="badge badge-sm bg-secondary" (click)="selectFile(item)" style="display: flex; align-item: center; cursor: pointer;"><i class="fa-solid fa-upload"></i></span></div><div class="value-data" *ngIf="['list'].includes(item.inputtype)"><select class="form-select form-select-sm text-center" [(ngModel)]="data()[item.name]"><ng-container *ngFor="let val of options(item.description);"><option [value]="val.value">{{val.key}}</option></ng-container></select></div></div><div class="value-configure" *ngIf="item.conf"><div class="row"><div class="col-auto option-title">Type</div><div class="col"><select class="form-select form-select-sm text-center" [(ngModel)]="item.inputtype" (change)="variableConfigureChanged()"><option value="text">Text</option><option value="textarea">Textarea</option><option value="number">Number</option><option value="password">Password</option><option value="date">Date</option><option value="time">Time</option><option value="list">List</option><option value="file">File</option></select></div><div class="col-auto"><div class="btn btn-sm btn-red" (click)="removeInput(item)"><i class="fa-solid fa-xmark"></i></div></div></div><div class="row" *ngIf="item.inputtype != 'list'"><div class="col-auto option-title">Desc</div><div class="col"><input class="form-control form-control-sm text-left" type="text" [(ngModel)]="item.description"/></div></div><div class="row" *ngIf="item.inputtype == 'list' &amp;&amp; item.cache"><div class="col-auto option-title">List</div><div class="col"><table><tr class="text-center"><th>Display Text</th><th>Value</th><th></th></tr><tr *ngFor="let val of item.cache"><td><input class="form-control form-control-sm text-left" [(ngModel)]="val.key" placeholder="title"/></td><td><input class="form-control form-control-sm text-left" [(ngModel)]="val.value" placeholder="value"/></td><td><div class="btn btn-sm btn-red" (click)="item.cache.remove(val); variableConfigureChanged()"><i class="fa-solid fa-xmark"></i></div></td></tr><tr><td class="text-center" colspan="3"><div class="btn btn-sm btn-secondary btn-block" (click)="item.cache.push({key: '', value: ''}); variableConfigureChanged()"><i class="fa-solid fa-plus"></i></div></td></tr></table></div></div></div></div></div><div class="value-add text-center pt-1 pb-1" *ngIf="count('variable') == 0" (click)="addVariable()"><i class="fa-solid fa-plus"></i></div></div><div class="variable-header"><div class="input-header"><span>Input</span><div class="btn btn-sm btn-secondary ml-1" *ngIf="count('input') &gt; 0" (click)="addInput()"><i class="fa-solid fa-plus"></i></div></div><div class="output-header"><span>Output</span><div class="btn btn-sm btn-secondary ml-1" *ngIf="outputs().length &gt; 0" (click)="addOutput()"><i class="fa-solid fa-plus"></i></div></div></div><div class="variable-container"><div class="input-container" [sortablejs]="inputs()" [sortablejsOptions]="{ animation: 150, handle: '.value-title', onUpdate: sorted, scope: scope }"><ng-container *ngFor="let item of inputs()"><div [ngClass]="item.type == 'output' ? 'show' : 'hidden'"><div class="inputs"><div class="input" [ngClass]="'input-' + item.name"></div></div><div class="value-wrapper" [ngClass]="item.type == 'output' ? 'show' : 'hidden'"><div class="value-title input-text"><input [(ngModel)]="item.name" (change)="sorted()"/></div><div class="value-action" (click)="removeInput(item)"><div class="btn btn-sm btn-secondary"><i class="fa-solid fa-xmark"></i></div></div></div></div></ng-container><div class="value-add text-center pt-1 pb-1" *ngIf="count('input') == 0" (click)="addInput()"><i class="fa-solid fa-plus"></i></div></div><div class="output-container" [sortablejs]="outputs()" [sortablejsOptions]="{ animation: 150, handle: '.value-title', onUpdate: sorted, scope: scope }"><div class="show" *ngFor="let item of outputs()"><div class="outputs"><div class="output" [ngClass]="'output-' + item.name"></div></div><div class="value-wrapper show"><div class="value-title output-text"><input [(ngModel)]="item.name" (change)="sorted()"/></div><div class="value-action mr-2" (click)="removeOutput(item)"><div class="btn btn-sm btn-secondary"><i class="fa-solid fa-xmark"></i></div></div></div></div><div class="value-add text-center pt-1 pb-1" *ngIf="outputs().length == 0" (click)="addOutput()"><i class="fa-solid fa-plus"></i></div></div></div><pre class="debug-message" *ngIf="log()" [innerHtml]="log()" #debug=""></pre></div>